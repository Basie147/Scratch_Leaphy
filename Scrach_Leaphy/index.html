<!DOCTYPE html>
<html>
<head>
    <title>Leaphy Digital Twin</title>
    <style>
        body {
            display: flex;
            justify-content: space-between; /* Aligns children (divs) side by side */
        }
        #csv-display {
            width: 50%; /* Adjust width as necessary */
            padding: 20px;
            border: 1px solid #ccc; /* Just for visibility */
            overflow: auto; /* Adds scrollbar if needed */
            height: 90vh; /* Adjust height based on view height */
        }
        #controls {
            width: 45%; /* Adjust width as necessary */
            padding: 20px;
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leopard@^1/dist/index.min.css" />
</head>
<body>
    <div id="controls">
        <button id="greenFlag">Start position</button>
        <button id="connect">Connect Serial</button>
        <button id="myButton">Simulate</button>
        <button id="download-btn">Download CSV</button>
        <div id="project"></div>
    </div>

    <pre id="csv-display"></pre> <!-- Area to display CSV data -->

    <script type="module">
        import project from "./index.js";
        import { csvFileData } from '../Lib/csv.js';

        project.attach("#project");

        document.querySelector("#greenFlag").addEventListener("click", () => {
            project.greenFlag();
        });

        // Autoplay
        project.greenFlag();

        // Function to display CSV data
        async function displayCSVData() {
            const displayArea = document.getElementById('csv-display');
            displayArea.textContent = await csvFileData(); // Assuming csvFileData() returns a Promise that resolves to CSV data
        }

        displayCSVData();
    </script>
</body>
</html>
